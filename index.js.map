{"version":3,"file":"index.js","sources":["../src/components/Main.vue","../src/main.ts"],"sourcesContent":["<script setup lang=\"ts\">\nimport {Ref, ref} from \"vue\";\n\nconst coordObj: Ref<GeolocationPosition | undefined> = ref();\n\nasync function getCoords(): Promise<GeolocationPosition> {\n    return new Promise((resolve, reject) => {\n        navigator.geolocation.getCurrentPosition(\n            (location: GeolocationPosition) => resolve(location),\n            (error: GeolocationPositionError) => reject(error),\n            {\n                enableHighAccuracy: true,\n            },\n        );\n    });\n}\n\nfunction objectify<T>(target: T): T {\n    const obj: any = {};\n    for (const key in target) {\n        if (isObject(target[key])) {\n            obj[key] = objectify(target[key]);\n            continue;\n        }\n        obj[key] = target[key as keyof T];\n    }\n    return obj as T;\n}\n\nconst i = ref(0);\nasync function onClick() {\n    try {\n        i.value++;\n        coordObj.value = await getCoords();\n        i.value++;\n    } catch (e) {\n        alert(JSON.stringify(objectify(e as GeolocationPositionError), null, \"  \"));\n    }\n}\nonClick();\n\nfunction isObject(target: any): target is object {\n    return typeof target === \"object\" && !Array.isArray(target) && target !== null;\n}\n</script>\n\n<template>\n    <div class=\"main\">\n        <div>{{ i }}</div>\n        <button @click=\"onClick\">Update Point</button>\n        <table class=\"coord\" v-if=\"coordObj\">\n            <tr v-for=\"[k, v] of Object.entries(objectify(coordObj.coords)).filter(([_k, _v]) => _v)\">\n                <td>{{ k }}</td>: <td>{{ v }}</td>\n            </tr>\n            <tr>\n                <td>timestamp</td>: <td>{{ coordObj.timestamp }}</td>\n            </tr>\n        </table>\n    </div>\n</template>\n\n<style scoped lang=\"scss\">\nbutton {\n    background-color: #4CAF50;\n    border: none;\n    color: white;\n    padding: 10px 20px;\n    text-align: center;\n    text-decoration: none;\n    display: inline-block;\n    font-size: 16px;\n    cursor: pointer;\n    border-radius: 4px;\n    outline: 0;\n    margin: 5px;\n}\nbutton:active {\n    box-shadow: 0 0 3px grey;\n}\n</style>\n","import {createApp} from \"vue\";\nimport App from \"./App.vue\";\n\ncreateApp(App).mount(\"#app\");\n"],"names":["coordObj","ref","getCoords","resolve","reject","location","error","objectify","target","obj","key","isObject","i","onClick","e","createApp","App"],"mappings":"y9BAGA,MAAMA,EAAiDC,IAEvD,eAAeC,GAA0C,CACrD,OAAO,IAAI,QAAQ,CAACC,EAASC,IAAW,CACpC,UAAU,YAAY,mBACjBC,GAAkCF,EAAQE,CAAQ,EAClDC,GAAoCF,EAAOE,CAAK,EACjD,CACI,mBAAoB,EACxB,CAAA,CACJ,CACH,CACL,CAEA,SAASC,EAAaC,EAAc,CAChC,MAAMC,EAAW,CAAA,EACjB,UAAWC,KAAOF,EAAQ,CACtB,GAAIG,EAASH,EAAOE,CAAG,CAAC,EAAG,CACvBD,EAAIC,CAAG,EAAIH,EAAUC,EAAOE,CAAG,CAAC,EAChC,SAEAD,EAAAC,CAAG,EAAIF,EAAOE,CAAc,EAE7B,OAAAD,CACX,CAEM,MAAAG,EAAIX,EAAI,CAAC,EACf,eAAeY,GAAU,CACjB,GAAA,CACED,EAAA,QACOZ,EAAA,MAAQ,MAAME,IACrBU,EAAA,cACGE,GACL,MAAM,KAAK,UAAUP,EAAUO,CAA6B,EAAG,KAAM,IAAI,CAAC,CAC9E,CACJ,CACQD,IAER,SAASF,EAASH,EAA+B,CACtC,OAAA,OAAOA,GAAW,UAAY,CAAC,MAAM,QAAQA,CAAM,GAAKA,IAAW,IAC9E,4vBCxCAO,EAAUC,CAAG,EAAE,MAAM,MAAM"}