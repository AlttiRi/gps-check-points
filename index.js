import{d as y,r as O,c as P,o as d,a as p,b as a,F as v,e as A,f as m,t as f,g as N,s as C,p as h,h as g,i as I,j}from"./vendor.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))c(e);new MutationObserver(e=>{for(const r of e)if(r.type==="childList")for(const u of r.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&c(u)}).observe(document,{childList:!0,subtree:!0});function i(e){const r={};return e.integrity&&(r.integrity=e.integrity),e.referrerPolicy&&(r.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?r.credentials="include":e.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function c(e){if(e.ep)return;e.ep=!0;const r=i(e);fetch(e.href,r)}})();const k=n=>(h("data-v-f4d211f5"),n=n(),g(),n),w={class:"main"},x={key:0,class:"coord"},L=k(()=>a("td",null,"timestamp",-1)),B=y({__name:"Main",setup(n){const o=O();async function i(){return new Promise((t,l)=>{navigator.geolocation.getCurrentPosition(s=>t(s),s=>l(s),{enableHighAccuracy:!0})})}function c(t){const l={};for(const s in t){if(S(t[s])){l[s]=c(t[s]);continue}l[s]=t[s]}return l}async function e(){try{o.value=await i()}catch(t){alert(JSON.stringify(c(t),null,"  "))}}e();const r=P("GPS_Points_DB","GPS_Points");async function u(){if(o.value)try{await C(o.value.timestamp,c(o.value.coords),r)}catch(t){alert(JSON.stringify(c(t),null,"  "))}}function S(t){return typeof t=="object"&&!Array.isArray(t)&&t!==null}return(t,l)=>(d(),p("div",w,[a("button",{onClick:e},"Update Point"),a("button",{onClick:u},"Save Point"),o.value?(d(),p("table",x,[(d(!0),p(v,null,A(Object.entries(c(o.value.coords)).filter(([s,_])=>_),([s,_])=>(d(),p("tr",null,[a("td",null,f(s),1),m(": "),a("td",null,f(_),1)]))),256)),a("tr",null,[L,m(": "),a("td",null,f(o.value.timestamp),1)])])):N("",!0)]))}});const b=(n,o)=>{const i=n.__vccOpts||n;for(const[c,e]of o)i[c]=e;return i},M=b(B,[["__scopeId","data-v-f4d211f5"]]),V=n=>(h("data-v-2724c669"),n=n(),g(),n),F=V(()=>a("a",{class:"readme",title:"Open Readme",href:"https://github.com/AlttiRi/gps-test",target:"_blank"},[a("i",null,"i")],-1)),$=y({__name:"App",setup(n){return(o,i)=>(d(),p(v,null,[I(M),F],64))}});const D=b($,[["__scopeId","data-v-2724c669"]]);j(D).mount("#app");
//# sourceMappingURL=index.js.map
